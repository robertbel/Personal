---
import Layout from '../../layouts/Layout.astro';
import { items } from '../../data/items';
import styles from '../../styles/detail.module.css';

export function getStaticPaths() {
    return items.map(item => ({
        params: { id: item.id.toString() }
    }));
}

const { id } = Astro.params;
const item = items.find(item => item.id === parseInt(id));

if (!item) return Astro.redirect('/');
---

<Layout title={item.title}>
  <main>
    <div class={styles.container}>
      <div class={styles.imageWrapper}>
        <a href="/" class={styles.backLink}>‚Üê Back</a>
        <img
          src={`/images/${item.image}`}
          alt={item.title}
          transition:name={`image-${item.id}`}
          loading="eager"
          class={styles.image}
        />
      </div>
      <div class={styles.content}>
        <h1 transition:name={`title-${item.id}`}>{item.title}</h1>
        <p class="description" transition:name={`desc-${item.id}`}>
          {item.description}
        </p>
        <div class="additional-content">
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
          </p>
          <p>
            Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.
          </p>
        </div>
      </div>
    </div>
  </main>
</Layout>

<style>
  .description {
    color: var(--text-secondary);
    font-size: 1.25rem;
    margin-bottom: 1.5rem;
  }

  .additional-content p {
    color: var(--text-secondary);
    margin-bottom: 1rem;
  }
</style> 